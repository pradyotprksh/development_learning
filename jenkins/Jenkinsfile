pipeline {
    agent any

    stages {
        stage('Projects Checkup') {
            parallel {
                // Android
                stage('JenkinsLearning project') {
                    steps {
                        dir('./android/JenkinsLearning') {
                            script {
                                sh 'python3 ../../jenkins/android_script.py'
                            }
                        }
                    }
                }

                // Python
                stage('pokedex project') {
                    when { changeset "./kotlin/**" }
                    steps {
                        dir('./kotlin/ktor/pokedex') {
                            script {
                                sh 'python3 ../../../jenkins/kotlin_script.py'
                            }
                        }
                    }
                }
            }
        }
    }
}