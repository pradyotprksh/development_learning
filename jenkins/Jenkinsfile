pipeline {
    agent any

    stages {
        stage('Projects Checkup') {
            parallel {
                // Android
                stage('JenkinsLearning project') {
                    steps {
                        dir('./android/JenkinsLearning') {
                            script {
                                sh 'python3 ../../scripts/android_script.py'
                            }
                        }
                    }
                }

                // Python
                stage('pokedex project') {
                    steps {
                        // when { changeset './kotlin/ktor/pokedex' }
                        dir('./kotlin/ktor/pokedex') {
                            script {
                                sh 'python3 ../../../scripts/kotlin_script.py'
                            }
                        }
                    }
                }

                // Rust
                stage('Rust project') {
                    steps {
                        dir('./rust/common_programming_concepts') {
                            script {
                                sh 'python3 ../../../scripts/rust_script.py.py'
                            }
                        }
                    }

                    steps {
                        dir('./rust/guessing_number') {
                            script {
                                sh 'python3 ../../../scripts/rust_script.py.py'
                            }
                        }
                    }

                    steps {
                        dir('./rust/hello-rust') {
                            script {
                                sh 'python3 ../../../scripts/rust_script.py.py'
                            }
                        }
                    }

                    steps {
                        dir('./rust/struct_example') {
                            script {
                                sh 'python3 ../../../scripts/rust_script.py.py'
                            }
                        }
                    }
                }
            }
        }
    }
}